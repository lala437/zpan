(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54185f58"],{"0b47":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-header",[o("div",{staticClass:"logo"},[o("img",{attrs:{src:n("cf05"),alt:"YunYou"},on:{click:function(e){return t.$router.push("/")}}})]),t.showMenu?o("el-menu",{staticClass:"navbar",staticStyle:{width:"100%"},attrs:{"default-active":t.menuActive,mode:"horizontal",router:""}},[t._l(t.menus.slice(0,5),(function(e,n){return o("el-menu-item",{key:n,attrs:{index:"/"+e.name}},[t._v(t._s(e.title))])})),o("el-submenu",{directives:[{name:"show",rawName:"v-show",value:t.menus.length>5,expression:"menus.length > 5"}],attrs:{index:"more"}},[o("template",{slot:"title"},[t._v("更多")]),t._l(t.menus.slice(5),(function(e,n){return o("el-menu-item",{key:n,attrs:{index:e.path}},[t._v(t._s(e.title))])}))],2)],2):t._e(),o("div",{staticStyle:{position:"absolute",right:"20px"}},[o("el-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.logined,expression:"logined"}],attrs:{trigger:"click"},on:{command:t.onDropdown}},[o("el-avatar",{staticStyle:{"vertical-align":"middle"},attrs:{size:30,src:t.profile.avatar}}),o("el-dropdown-menu",{staticStyle:{width:"200px"},attrs:{slot:"dropdown"},slot:"dropdown"},[o("div",{staticStyle:{margin:"auto 20px"}},[o("el-row",{staticStyle:{"text-align":"center",margin:"10px 0"}},[o("el-avatar",{attrs:{size:50,src:t.profile.avatar}})],1),o("el-row",{staticClass:"storage"},[o("p",[o("span",{},[t._v(t._s(t.$t("leftnav.storage")))]),o("span",{staticStyle:{float:"right"}},[t._v(t._s(t.storage.percentage)+"%")])]),o("el-progress",{attrs:{percentage:t.storage.percentage,"show-text":!1}}),o("p",{staticStyle:{color:"rgba(0, 0, 0, 0.54)","font-size":"0.75rem"}},[t._v(t._s(t.storage.used)+"/"+t._s(t.storage.max))])],1)],1),o("el-dropdown-item",{attrs:{icon:"el-icon-setting",command:"profile",divided:""}},[t._v(t._s(t.$t("topbar.settings")))]),o("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:t.showAdmin,expression:"showAdmin"}],attrs:{icon:"el-icon-set-up",command:"admin"}},[t._v(t._s(t.$t("topbar.s-platform")))]),o("el-dropdown-item",{attrs:{icon:"el-icon-switch-button",command:"signout"}},[t._v(t._s(t.$t("topbar.signout")))])],1)],1)],1)],1)},i=[],r=n("9225"),a=n("90fe"),s=n("a78e"),l=n.n(s),c="https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",u={props:{menus:Array,logined:Boolean},data:function(){return{storage:{percentage:0},user:{},profile:{}}},watch:{$route:"onRouteChange",locale:function(t){Object(r["b"])(t)}},computed:{showMenu:function(){return this.menus&&this.menus.length>0},showAdmin:function(){return"admin"==l.a.get("z-role")},menuActive:function(){return"/".concat(this.$route.params.sname)}},methods:{onRouteChange:function(t,e){this.logined&&this.userInfo()},userInfo:function(){var t=this;this.$zpan.User.profileGet().then((function(e){t.user=e.data,t.profile=t.user.profile,""==t.profile.avatar&&(t.profile.avatar=c),t.profile.locale&&(t.$i18n.locale=t.profile.locale),t.storage={used:a["a"].formatBytes(t.user.storage.used,0),max:a["a"].formatBytes(t.user.storage.max,0),percentage:Math.round(t.user.storage.used/t.user.storage.max*1e4)/100}}))},onDropdown:function(t){this.$router.push({name:t})}},mounted:function(){this.logined&&this.userInfo()}},d=u,p=(n("a0b4"),n("2877")),m=Object(p["a"])(d,o,i,!1,null,null,null);e["a"]=m.exports},2953:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("Topbar",{attrs:{logined:""}}),n("el-container",{staticStyle:{height:"100%"}},[n("el-aside",{staticStyle:{height:"100%","background-color":"#f4f4f5"},attrs:{width:"200px"}},[n("el-menu",{attrs:{"default-active":t.routeFullPath,"background-color":"#f4f4f5",router:""}},[n("el-menu-item",{attrs:{index:"/admin/dashboard"}},[n("i",{staticClass:"el-icon-s-home"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页")])]),n("el-menu-item",{attrs:{index:"/admin/storages"}},[n("i",{staticClass:"el-icon-files"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("存储管理")])]),n("el-menu-item",{attrs:{index:"/admin/users"}},[n("i",{staticClass:"el-icon-user"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("用户管理")])]),n("el-submenu",{attrs:{index:"/admin/settings"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-files"}),n("span",[t._v("系统设置")])]),n("el-menu-item",{attrs:{index:"/admin/settings"}},[t._v("站点设置")]),n("el-menu-item",{attrs:{index:"/admin/settings/email"}},[t._v("发信邮箱")])],2)],1)],1),n("el-main",[n("router-view")],1)],1)],1)},i=[],r=n("0b47"),a={components:{Topbar:r["a"]},data:function(){return{routeFullPath:"disk"}},watch:{$route:function(t,e){this.routeFullPath=t.fullPath}},mounted:function(){this.routeFullPath=this.$route.fullPath}},s=a,l=(n("c71b"),n("2877")),c=Object(l["a"])(s,o,i,!1,null,"1df4bb25",null);e["default"]=c.exports},9884:function(t,e,n){},a0b4:function(t,e,n){"use strict";n("9884")},a78e:function(t,e,n){var o,i;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(r){var a;if(o=r,i="function"===typeof o?o.call(e,n,e,t):o,void 0===i||(t.exports=i),a=!0,t.exports=r(),a=!0,!a){var s=window.Cookies,l=window.Cookies=r();l.noConflict=function(){return window.Cookies=s,l}}})((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(o){function i(){}function r(e,n,r){if("undefined"!==typeof document){r=t({path:"/"},i.defaults,r),"number"===typeof r.expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(c){}n=o.write?o.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in r)r[l]&&(s+="; "+l,!0!==r[l]&&(s+="="+r[l].split(";")[0]));return document.cookie=e+"="+n+s}}function a(t,n){if("undefined"!==typeof document){for(var i={},r=document.cookie?document.cookie.split("; "):[],a=0;a<r.length;a++){var s=r[a].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=e(s[0]);if(l=(o.read||o)(l,c)||e(l),n)try{l=JSON.parse(l)}catch(u){}if(i[c]=l,t===c)break}catch(u){}}return t?i[t]:i}}return i.set=r,i.get=function(t){return a(t,!1)},i.getJSON=function(t){return a(t,!0)},i.remove=function(e,n){r(e,"",t(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}return n((function(){}))}))},aa05:function(t,e,n){},c71b:function(t,e,n){"use strict";n("aa05")},cf05:function(t,e,n){t.exports=n.p+"img/logo.6018490d.png"}}]);
//# sourceMappingURL=chunk-54185f58.0cc1d0b7.js.map