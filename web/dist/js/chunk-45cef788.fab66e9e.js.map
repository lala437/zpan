{"version":3,"sources":["webpack:///./src/components/Topbar/index.vue?98ec","webpack:///src/components/Topbar/index.vue","webpack:///./src/components/Topbar/index.vue?cd72","webpack:///./src/components/Topbar/index.vue","webpack:///./src/views/home/index.vue?d18a","webpack:///src/views/home/index.vue","webpack:///./src/views/home/index.vue?f8be","webpack:///./src/views/home/index.vue","webpack:///./src/views/home/index.vue?41bf","webpack:///./src/components/Topbar/index.vue?6265","webpack:///./node_modules/js-cookie/src/js.cookie.js","webpack:///./src/assets/logo.png","webpack:///./src/libs/mixin/cs.js","webpack:///./src/libs/mixin/dialog.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","push","staticStyle","menuActive","_l","menus","slice","menu","index","key","_v","_s","title","directives","name","rawName","value","length","expression","slot","path","_e","onDropdown","profile","avatar","$t","storage","percentage","used","max","staticRenderFns","props","Array","logined","Boolean","data","user","watch","$route","locale","computed","showMenu","showAdmin","methods","onRouteChange","userInfo","$zpan","User","profileGet","then","utils","Math","round","mounted","component","$store","state","storages","leftMenuActive","class","icon","mixins","components","Topbar","beforeRouteEnter","to","store","next","router","currentBucket","params","sname","fullPath","leftMenus","cs","mode","factory","registeredInModuleLoader","module","exports","OldCookies","window","Cookies","api","noConflict","extend","i","result","arguments","attributes","decode","s","replace","decodeURIComponent","init","converter","set","document","defaults","expires","Date","toUTCString","JSON","stringify","test","e","write","encodeURIComponent","String","escape","stringifiedAttributes","attributeName","split","cookie","get","json","jar","cookies","parts","join","charAt","read","parse","getJSON","remove","withConverter","Mixin","newVal","oldVal","setCs","forEach","ele","getSid","id","DialogMixin","visible","val","$destroy","body","appendChild","$el","destroyed","parentNode","removeChild","open","close","finish","$emit"],"mappings":"kHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAACA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAM,EAAQ,QAAqB,IAAM,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,QAAQC,KAAK,WAAYX,EAAY,SAAEI,EAAG,UAAU,CAACE,YAAY,SAASM,YAAY,CAAC,MAAQ,QAAQL,MAAM,CAAC,iBAAiBP,EAAIa,WAAW,KAAO,aAAa,OAAS,KAAK,CAACb,EAAIc,GAAId,EAAIe,MAAMC,MAAM,EAAG,IAAI,SAASC,EAAKC,GAAO,OAAOd,EAAG,eAAe,CAACe,IAAID,EAAMX,MAAM,CAAC,MAAS,IAAOU,EAAS,OAAK,CAACjB,EAAIoB,GAAGpB,EAAIqB,GAAGJ,EAAKK,aAAYlB,EAAG,aAAa,CAACmB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAO1B,EAAIe,MAAMY,OAAS,EAAGC,WAAW,qBAAqBrB,MAAM,CAAC,MAAQ,SAAS,CAACH,EAAG,WAAW,CAACyB,KAAK,SAAS,CAAC7B,EAAIoB,GAAG,QAAQpB,EAAIc,GAAId,EAAIe,MAAMC,MAAM,IAAI,SAASC,EAAKC,GAAO,OAAOd,EAAG,eAAe,CAACe,IAAID,EAAMX,MAAM,CAAC,MAAQU,EAAKa,OAAO,CAAC9B,EAAIoB,GAAGpB,EAAIqB,GAAGJ,EAAKK,cAAa,IAAI,GAAGtB,EAAI+B,KAAK3B,EAAG,MAAM,CAACQ,YAAY,CAAC,SAAW,WAAW,MAAQ,SAAS,CAACR,EAAG,cAAc,CAACmB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAO1B,EAAW,QAAE4B,WAAW,YAAYrB,MAAM,CAAC,QAAU,SAASC,GAAG,CAAC,QAAUR,EAAIgC,aAAa,CAAC5B,EAAG,YAAY,CAACQ,YAAY,CAAC,iBAAiB,UAAUL,MAAM,CAAC,KAAO,GAAG,IAAMP,EAAIiC,QAAQC,UAAU9B,EAAG,mBAAmB,CAACQ,YAAY,CAAC,MAAQ,SAASL,MAAM,CAAC,KAAO,YAAYsB,KAAK,YAAY,CAACzB,EAAG,MAAM,CAACQ,YAAY,CAAC,OAAS,cAAc,CAACR,EAAG,SAAS,CAACQ,YAAY,CAAC,aAAa,SAAS,OAAS,WAAW,CAACR,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,GAAG,IAAMP,EAAIiC,QAAQC,WAAW,GAAG9B,EAAG,SAAS,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACA,EAAG,OAAO,GAAG,CAACJ,EAAIoB,GAAGpB,EAAIqB,GAAGrB,EAAImC,GAAG,uBAAuB/B,EAAG,OAAO,CAACQ,YAAY,CAAC,MAAQ,UAAU,CAACZ,EAAIoB,GAAGpB,EAAIqB,GAAGrB,EAAIoC,QAAQC,YAAY,SAASjC,EAAG,cAAc,CAACG,MAAM,CAAC,WAAaP,EAAIoC,QAAQC,WAAW,aAAY,KAASjC,EAAG,IAAI,CAACQ,YAAY,CAAC,MAAQ,sBAAsB,YAAY,YAAY,CAACZ,EAAIoB,GAAGpB,EAAIqB,GAAGrB,EAAIoC,QAAQE,MAAM,IAAItC,EAAIqB,GAAGrB,EAAIoC,QAAQG,SAAS,IAAI,GAAGnC,EAAG,mBAAmB,CAACG,MAAM,CAAC,KAAO,kBAAkB,QAAU,UAAU,QAAU,KAAK,CAACP,EAAIoB,GAAGpB,EAAIqB,GAAGrB,EAAImC,GAAG,uBAAuB/B,EAAG,mBAAmB,CAACmB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAO1B,EAAa,UAAE4B,WAAW,cAAcrB,MAAM,CAAC,KAAO,iBAAiB,QAAU,UAAU,CAACP,EAAIoB,GAAGpB,EAAIqB,GAAGrB,EAAImC,GAAG,yBAAyB/B,EAAG,mBAAmB,CAACG,MAAM,CAAC,KAAO,wBAAwB,QAAU,YAAY,CAACP,EAAIoB,GAAGpB,EAAIqB,GAAGrB,EAAImC,GAAG,uBAAuB,IAAI,IAAI,IAAI,IAC14EK,EAAkB,G,6CC4CtB,wEACA,GACEC,MAAO,CACL1B,MAAO2B,MACPC,QAASC,SAEXC,KALF,WAMI,MAAO,CACLT,QAAS,CACPC,WAAY,GAEdS,KAAM,GACNb,QAAS,KAGbc,MAAO,CACLC,OAAQ,gBACRC,OAFJ,SAEA,GACM,OAAN,OAAM,CAAN,KAGEC,SAAU,CACRC,SADJ,WAEM,OAAOlD,KAAKc,OAASd,KAAKc,MAAMY,OAAS,GAE3CyB,UAJJ,WAKM,MAAN,SAAa,EAAb,iBAEIvC,WAPJ,WAQM,MAAO,IAAb,mCAGEwC,QAAS,CACPC,cADJ,SACA,KACUrD,KAAK0C,SACP1C,KAAKsD,YAGTA,SANJ,WAMA,WACMtD,KAAKuD,MAAMC,KAAKC,aAAaC,MAAK,SAAxC,GACQ,EAAR,YACQ,EAAR,uBACA,IAAY,EAAZ,iBACU,EAAV,kBAGY,EAAZ,iBACU,EAAV,+BAGQ,EAAR,SACUrB,KAAMsB,EAAhB,wCACUrB,IAAKqB,EAAf,uCACUvB,WAAYwB,KAAKC,MAAM,EAAjC,mDAII9B,WAzBJ,SAyBA,GACM/B,KAAKS,QAAQC,KAAK,CAAxB,WAGEoD,QA5DF,WA6DQ9D,KAAK0C,SACP1C,KAAKsD,aC5GmS,I,wBCQ1SS,EAAY,eACd,EACAjE,EACAyC,GACA,EACA,KACA,KACA,MAIa,OAAAwB,E,2ECnBf,IAAIjE,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQP,EAAIiE,OAAOC,MAAMC,SAAS,QAAU,MAAM/D,EAAG,eAAe,CAACQ,YAAY,CAAC,OAAS,SAAS,CAACR,EAAG,WAAW,CAACQ,YAAY,CAAC,OAAS,OAAO,mBAAmB,WAAWL,MAAM,CAAC,MAAQ,UAAU,CAACH,EAAG,UAAU,CAACG,MAAM,CAAC,iBAAiBP,EAAIoE,eAAe,mBAAmB,UAAU,OAAS,KAAKpE,EAAIc,GAAId,EAAa,WAAE,SAASiB,GAAM,OAAOb,EAAG,eAAe,CAACe,IAAIF,EAAKa,KAAKvB,MAAM,CAAC,MAAQU,EAAKa,OAAO,CAAC1B,EAAG,IAAI,CAACiE,MAAMpD,EAAKqD,OAAOlE,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,SAASsB,KAAK,SAAS,CAAC7B,EAAIoB,GAAGpB,EAAIqB,GAAGJ,EAAKK,eAAc,IAAI,GAAGlB,EAAG,UAAU,CAACA,EAAG,gBAAgB,IAAI,IAAI,IACjrBoC,EAAkB,G,wEC8BtB,GACE+B,OAAQ,CAAC,EAAX,MACEC,WAAY,CACVC,OAAJ,QAEEC,iBALF,SAKA,OACI,EAAJ,iDACM,IAAN,cAE6B,GAAnBP,EAASxC,OAME,KAAXgD,EAAG7C,MAKP8C,EAAN,0BACMC,KALEC,EAAR,wCANQD,EAAK,CAAb,sBAcEhC,KAxBF,WAyBI,MAAO,IAETK,SAAU,CACR6B,cADJ,WAEM,OAAO9E,KAAK+C,OAAOgC,OAAOC,OAE5Bb,eAJJ,WAKM,OAAOnE,KAAK+C,OAAOkC,UAErBC,UAPJ,WAQM,IAAN,GACA,CAAQ,KAAR,+BAAQ,KAAR,mBAAQ,MAAR,0BACA,CAAQ,KAAR,2CAAQ,KAAR,aAAQ,MAAR,wBACA,CAAQ,KAAR,sCAAQ,KAAR,aAAQ,MAAR,0BACA,CAAQ,KAAR,6CAAQ,KAAR,aAAQ,MAAR,0BACA,CAAQ,KAAR,6CAAQ,KAAR,aAAQ,MAAR,2BAGM,GAAoB,GAAhBlF,KAAKmF,GAAGC,KAAW,CACrB,IAAR,GACA,CAAU,KAAV,wCAAU,KAAV,gBAAU,MAAV,0BACA,CAAU,KAAV,6CAAU,KAAV,iBAAU,MAAV,gCAEQtE,EAAMJ,KAAd,WAGM,OAAOI,IAGXgC,MAAO,CACLC,OADJ,SACA,QAEEK,QAAS,GACTU,QA1DF,cC/B8S,I,wBCQ1SC,EAAY,eACd,EACAjE,EACAyC,GACA,EACA,KACA,WACA,MAIa,aAAAwB,E,6CCnBf,W,yDCAA,W,qBCAA;;;;;;;IAOE,SAAUsB,GACX,IAAIC,EASJ,GAPC,IAAc,oEACdA,GAA2B,EAG3BC,EAAOC,QAAUH,IACjBC,GAA2B,GAEvBA,EAA0B,CAC9B,IAAIG,EAAaC,OAAOC,QACpBC,EAAMF,OAAOC,QAAUN,IAC3BO,EAAIC,WAAa,WAEhB,OADAH,OAAOC,QAAUF,EACVG,KAfT,EAkBC,WACD,SAASE,IAGR,IAFA,IAAIC,EAAI,EACJC,EAAS,GACND,EAAIE,UAAUvE,OAAQqE,IAAK,CACjC,IAAIG,EAAaD,UAAWF,GAC5B,IAAK,IAAI7E,KAAOgF,EACfF,EAAO9E,GAAOgF,EAAWhF,GAG3B,OAAO8E,EAGR,SAASG,EAAQC,GAChB,OAAOA,EAAEC,QAAQ,mBAAoBC,oBAGtC,SAASC,EAAMC,GACd,SAASZ,KAET,SAASa,EAAKvF,EAAKO,EAAOyE,GACzB,GAAwB,qBAAbQ,SAAX,CAIAR,EAAaJ,EAAO,CACnBjE,KAAM,KACJ+D,EAAIe,SAAUT,GAEiB,kBAAvBA,EAAWU,UACrBV,EAAWU,QAAU,IAAIC,KAAkB,EAAb,IAAIA,KAAkC,MAArBX,EAAWU,UAI3DV,EAAWU,QAAUV,EAAWU,QAAUV,EAAWU,QAAQE,cAAgB,GAE7E,IACC,IAAId,EAASe,KAAKC,UAAUvF,GACxB,UAAUwF,KAAKjB,KAClBvE,EAAQuE,GAER,MAAOkB,IAETzF,EAAQ+E,EAAUW,MACjBX,EAAUW,MAAM1F,EAAOP,GACvBkG,mBAAmBC,OAAO5F,IACxB4E,QAAQ,4DAA6DC,oBAExEpF,EAAMkG,mBAAmBC,OAAOnG,IAC9BmF,QAAQ,2BAA4BC,oBACpCD,QAAQ,UAAWiB,QAErB,IAAIC,EAAwB,GAC5B,IAAK,IAAIC,KAAiBtB,EACpBA,EAAWsB,KAGhBD,GAAyB,KAAOC,GACE,IAA9BtB,EAAWsB,KAWfD,GAAyB,IAAMrB,EAAWsB,GAAeC,MAAM,KAAK,KAGrE,OAAQf,SAASgB,OAASxG,EAAM,IAAMO,EAAQ8F,GAG/C,SAASI,EAAKzG,EAAK0G,GAClB,GAAwB,qBAAblB,SAAX,CAUA,IANA,IAAImB,EAAM,GAGNC,EAAUpB,SAASgB,OAAShB,SAASgB,OAAOD,MAAM,MAAQ,GAC1D1B,EAAI,EAEDA,EAAI+B,EAAQpG,OAAQqE,IAAK,CAC/B,IAAIgC,EAAQD,EAAQ/B,GAAG0B,MAAM,KACzBC,EAASK,EAAMhH,MAAM,GAAGiH,KAAK,KAE5BJ,GAA6B,MAArBF,EAAOO,OAAO,KAC1BP,EAASA,EAAO3G,MAAM,GAAI,IAG3B,IACC,IAAIQ,EAAO4E,EAAO4B,EAAM,IAIxB,GAHAL,GAAUlB,EAAU0B,MAAQ1B,GAAWkB,EAAQnG,IAC9C4E,EAAOuB,GAEJE,EACH,IACCF,EAASX,KAAKoB,MAAMT,GACnB,MAAOR,IAKV,GAFAW,EAAItG,GAAQmG,EAERxG,IAAQK,EACX,MAEA,MAAO2F,KAGV,OAAOhG,EAAM2G,EAAI3G,GAAO2G,GAoBzB,OAjBAjC,EAAIa,IAAMA,EACVb,EAAI+B,IAAM,SAAUzG,GACnB,OAAOyG,EAAIzG,GAAK,IAEjB0E,EAAIwC,QAAU,SAAUlH,GACvB,OAAOyG,EAAIzG,GAAK,IAEjB0E,EAAIyC,OAAS,SAAUnH,EAAKgF,GAC3BO,EAAIvF,EAAK,GAAI4E,EAAOI,EAAY,CAC/BU,SAAU,MAIZhB,EAAIe,SAAW,GAEff,EAAI0C,cAAgB/B,EAEbX,EAGR,OAAOW,GAAK,mB,qBCjKbhB,EAAOC,QAAU,IAA0B,yB,8HCCrC+C,EAAQ,CACV3F,KADU,WAEN,MAAO,CACHuC,GAAI,KAGZrC,MAAO,CACHC,OADG,SACIyF,EAAQC,GACXzI,KAAK0I,UAGbzF,SAAU,GACVG,QAAS,CACLsF,MADK,WACG,WACJ1I,KAAKgE,OAAOC,MAAMC,SAASyE,SAAQ,SAACC,GAC5BA,EAAIrH,MAAQ,EAAKwB,OAAOgC,OAAOC,QAC/B,EAAKG,GAAKyD,OAItBC,OARK,WASD,OAAO7I,KAAKmF,GAAG2D,KAGvBhF,QAxBU,WAyBN9D,KAAK0I,UAIEH,IC9BTQ,EAAc,CAChBnG,KADgB,WAEZ,MAAO,CACHoG,SAAS,IAGjBlG,MAAO,CACHkG,QADG,SACKC,IACHA,GAAOjJ,KAAKkJ,aAGrBpF,QAXgB,WAYZ4C,SAASyC,KAAKC,YAAYpJ,KAAKqJ,KAC/BrJ,KAAKgJ,SAAU,GAEnBM,UAfgB,WAgBZtJ,KAAKqJ,IAAIE,WAAWC,YAAYxJ,KAAKqJ,MAEzCjG,QAAS,CACLqG,KADK,WAEDzJ,KAAKgJ,SAAU,GAEnBU,MAJK,WAKD1J,KAAKgJ,SAAU,GAEnBW,OAPK,WAQD3J,KAAKgJ,SAAU,EACfhJ,KAAK4J,MAAM,gBAKRb","file":"js/chunk-45cef788.fab66e9e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-header',[_c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.png\"),\"alt\":\"YunYou\"},on:{\"click\":function($event){return _vm.$router.push('/')}}})]),(_vm.showMenu)?_c('el-menu',{staticClass:\"navbar\",staticStyle:{\"width\":\"100%\"},attrs:{\"default-active\":_vm.menuActive,\"mode\":\"horizontal\",\"router\":\"\"}},[_vm._l((_vm.menus.slice(0, 5)),function(menu,index){return _c('el-menu-item',{key:index,attrs:{\"index\":(\"/\" + (menu.name))}},[_vm._v(_vm._s(menu.title))])}),_c('el-submenu',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menus.length > 5),expression:\"menus.length > 5\"}],attrs:{\"index\":\"more\"}},[_c('template',{slot:\"title\"},[_vm._v(\"更多\")]),_vm._l((_vm.menus.slice(5)),function(menu,index){return _c('el-menu-item',{key:index,attrs:{\"index\":menu.path}},[_vm._v(_vm._s(menu.title))])})],2)],2):_vm._e(),_c('div',{staticStyle:{\"position\":\"absolute\",\"right\":\"20px\"}},[_c('el-dropdown',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.logined),expression:\"logined\"}],attrs:{\"trigger\":\"click\"},on:{\"command\":_vm.onDropdown}},[_c('el-avatar',{staticStyle:{\"vertical-align\":\"middle\"},attrs:{\"size\":30,\"src\":_vm.profile.avatar}}),_c('el-dropdown-menu',{staticStyle:{\"width\":\"200px\"},attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('div',{staticStyle:{\"margin\":\"auto 20px\"}},[_c('el-row',{staticStyle:{\"text-align\":\"center\",\"margin\":\"10px 0\"}},[_c('el-avatar',{attrs:{\"size\":50,\"src\":_vm.profile.avatar}})],1),_c('el-row',{staticClass:\"storage\"},[_c('p',[_c('span',{},[_vm._v(_vm._s(_vm.$t(\"leftnav.storage\")))]),_c('span',{staticStyle:{\"float\":\"right\"}},[_vm._v(_vm._s(_vm.storage.percentage)+\"%\")])]),_c('el-progress',{attrs:{\"percentage\":_vm.storage.percentage,\"show-text\":false}}),_c('p',{staticStyle:{\"color\":\"rgba(0, 0, 0, 0.54)\",\"font-size\":\"0.75rem\"}},[_vm._v(_vm._s(_vm.storage.used)+\"/\"+_vm._s(_vm.storage.max))])],1)],1),_c('el-dropdown-item',{attrs:{\"icon\":\"el-icon-setting\",\"command\":\"profile\",\"divided\":\"\"}},[_vm._v(_vm._s(_vm.$t(\"topbar.settings\")))]),_c('el-dropdown-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAdmin),expression:\"showAdmin\"}],attrs:{\"icon\":\"el-icon-set-up\",\"command\":\"admin\"}},[_vm._v(_vm._s(_vm.$t(\"topbar.s-platform\")))]),_c('el-dropdown-item',{attrs:{\"icon\":\"el-icon-switch-button\",\"command\":\"signout\"}},[_vm._v(_vm._s(_vm.$t(\"topbar.signout\")))])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-header>\n    <div class=\"logo\">\n      <img src=\"@/assets/logo.png\" alt=\"YunYou\" @click=\"$router.push('/')\" />\n    </div>\n    <el-menu v-if=\"showMenu\" class=\"navbar\" :default-active=\"menuActive\" mode=\"horizontal\" style=\"width: 100%\" router>\n      <el-menu-item v-for=\"(menu, index) in menus.slice(0, 5)\" :key=\"index\" :index=\"`/${menu.name}`\">{{ menu.title }}</el-menu-item>\n\n      <el-submenu index=\"more\" v-show=\"menus.length > 5\">\n        <template slot=\"title\">更多</template>\n        <el-menu-item v-for=\"(menu, index) in menus.slice(5)\" :key=\"index\" :index=\"menu.path\">{{ menu.title }}</el-menu-item>\n      </el-submenu>\n    </el-menu>\n\n    <div style=\"position: absolute; right: 20px\">\n      <el-dropdown v-show=\"logined\" trigger=\"click\" @command=\"onDropdown\">\n        <el-avatar :size=\"30\" :src=\"profile.avatar\" style=\"vertical-align: middle\"></el-avatar>\n        <el-dropdown-menu slot=\"dropdown\" style=\"width: 200px\">\n          <div style=\"margin: auto 20px\">\n            <el-row style=\"text-align: center; margin: 10px 0\">\n              <el-avatar :size=\"50\" :src=\"profile.avatar\"></el-avatar>\n            </el-row>\n            <el-row class=\"storage\">\n              <p>\n                <span style>{{ $t(\"leftnav.storage\") }}</span>\n                <span style=\"float: right\">{{ storage.percentage }}%</span>\n              </p>\n              <el-progress :percentage=\"storage.percentage\" :show-text=\"false\"></el-progress>\n              <p style=\"color: rgba(0, 0, 0, 0.54); font-size: 0.75rem\">{{ storage.used }}/{{ storage.max }}</p>\n            </el-row>\n          </div>\n\n          <el-dropdown-item icon=\"el-icon-setting\" command=\"profile\" divided>{{ $t(\"topbar.settings\") }}</el-dropdown-item>\n          <el-dropdown-item icon=\"el-icon-set-up\" command=\"admin\" v-show=\"showAdmin\">{{ $t(\"topbar.s-platform\") }}</el-dropdown-item>\n          <el-dropdown-item icon=\"el-icon-switch-button\" command=\"signout\">{{ $t(\"topbar.signout\") }}</el-dropdown-item>\n        </el-dropdown-menu>\n      </el-dropdown>\n    </div>\n  </el-header>\n</template>\n\n<script>\nimport { setup } from \"@/i18n\";\nimport utils from \"@/libs/utils\";\nimport Cookie from \"js-cookie\";\nconst defaultAvatar = \"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png\";\nexport default {\n  props: {\n    menus: Array,\n    logined: Boolean,\n  },\n  data() {\n    return {\n      storage: {\n        percentage: 0,\n      },\n      user: {},\n      profile: {},\n    };\n  },\n  watch: {\n    $route: \"onRouteChange\",\n    locale(nv) {\n      setup(nv);\n    },\n  },\n  computed: {\n    showMenu() {\n      return this.menus && this.menus.length > 0;\n    },\n    showAdmin() {\n      return Cookie.get(\"z-role\") == \"admin\";\n    },\n    menuActive() {\n      return `/${this.$route.params.sname}`;\n    },\n  },\n  methods: {\n    onRouteChange(newVal, oldVal) {\n      if (this.logined) {\n        this.userInfo();\n      }\n    },\n    userInfo() {\n      this.$zpan.User.profileGet().then((ret) => {\n        this.user = ret.data;\n        this.profile = this.user.profile;\n        if (this.profile.avatar == \"\") {\n          this.profile.avatar = defaultAvatar;\n        }\n\n        if (this.profile.locale) {\n          this.$i18n.locale = this.profile.locale;\n        }\n\n        this.storage = {\n          used: utils.formatBytes(this.user.storage.used, 0),\n          max: utils.formatBytes(this.user.storage.max, 0),\n          percentage: Math.round((this.user.storage.used / this.user.storage.max) * 10000) / 100,\n        };\n      });\n    },\n    onDropdown(index) {\n      this.$router.push({ name: index });\n    },\n  },\n  mounted() {\n    if (this.logined) {\n      this.userInfo();\n    }\n  },\n};\n</script>\n\n<style>\n.el-header {\n  display: flex;\n  line-height: 60px;\n  background-color: #fff;\n  box-shadow: 1px 1px 8px #c9c9c9;\n  margin-bottom: 5px;\n}\n.el-header .logo {\n  width: 150px;\n  display: inline-block;\n  font-size: 35px;\n  padding: 0 15px;\n  vertical-align: middle;\n}\n\n.logo img {\n  cursor: pointer;\n}\n\n.el-header .navbar {\n  font-weight: bold;\n}\n\n.el-header .storage {\n  margin: 15px 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5ed50561&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('Topbar',{attrs:{\"menus\":_vm.$store.state.storages,\"logined\":\"\"}}),_c('el-container',{staticStyle:{\"height\":\"100%\"}},[_c('el-aside',{staticStyle:{\"height\":\"100%\",\"background-color\":\"#f4f4f5\"},attrs:{\"width\":\"200px\"}},[_c('el-menu',{attrs:{\"default-active\":_vm.leftMenuActive,\"background-color\":\"#f4f4f5\",\"router\":\"\"}},_vm._l((_vm.leftMenus),function(menu){return _c('el-menu-item',{key:menu.path,attrs:{\"index\":menu.path}},[_c('i',{class:menu.icon}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(menu.title))])])}),1)],1),_c('el-main',[_c('router-view')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section>\n    <Topbar :menus=\"$store.state.storages\" logined />\n    <el-container style=\"height: 100%\">\n      <el-aside width=\"200px\" style=\"height: 100%; background-color: #f4f4f5\">\n        <el-menu :default-active=\"leftMenuActive\" background-color=\"#f4f4f5\" router>\n          <el-menu-item v-for=\"menu in leftMenus\" :key=\"menu.path\" :index=\"menu.path\">\n            <i :class=\"menu.icon\"></i>\n            <span slot=\"title\">{{ menu.title }}</span>\n          </el-menu-item>\n        </el-menu>\n\n        <!-- <div class=\"copyright\">\n        <span>Powered by</span>\n        <a href=\"https://github.com/saltbo/zpan\" target=\"_blank\">ZPan</a>\n      </div>-->\n      </el-aside>\n\n      <el-main>\n        <router-view></router-view>\n      </el-main>\n    </el-container>\n  </section>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport store from \"@/store\";\nimport router from \"@/router\";\nimport Topbar from \"@/components/Topbar\";\nimport { CSMixin } from \"@/libs/mixin\";\nexport default {\n  mixins: [CSMixin],\n  components: {\n    Topbar,\n  },\n  beforeRouteEnter(to, from, next) {\n    Vue.zpan.Storage.list().then((ret) => {\n      let storages = ret.data.list;\n      // 如果没有存储空间则强制跳去添加存储空间\n      if (storages.length == 0) {\n        next({ name: \"storages\" });\n        return;\n      }\n\n      // 如果访问的是首页则自动跳去第一个存储空间\n      if (to.path == \"/\") {\n        router.push({ path: `/${storages[0].name}` });\n        return;\n      }\n\n      store.commit(\"storages\", storages);\n      next();\n    });\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    currentBucket() {\n      return this.$route.params.sname;\n    },\n    leftMenuActive() {\n      return this.$route.fullPath;\n    },\n    leftMenus() {\n      let menus = [\n        { path: `/${this.currentBucket}`, icon: \"el-icon-document\", title: this.$t(\"leftnav.files\") },\n        { path: `/${this.currentBucket}?type=doc`, icon: \"el-icon-xx\", title: this.$t(\"leftnav.doc\") },\n        { path: `/${this.currentBucket}/pic`, icon: \"el-icon-xx\", title: this.$t(\"leftnav.image\") },\n        { path: `/${this.currentBucket}?type=audio`, icon: \"el-icon-xx\", title: this.$t(\"leftnav.audio\") },\n        { path: `/${this.currentBucket}?type=video`, icon: \"el-icon-xx\", title: this.$t(\"leftnav.video\") },\n      ];\n\n      if (this.cs.mode == 1) {\n        let netdiskMenus = [\n          { path: `/${this.currentBucket}/share`, icon: \"el-icon-share\", title: this.$t(\"leftnav.share\") },\n          { path: `/${this.currentBucket}/recyclebin`, icon: \"el-icon-delete\", title: this.$t(\"leftnav.recyclebin\") },\n        ];\n        menus.push(...netdiskMenus);\n      }\n\n      return menus;\n    },\n  },\n  watch: {\n    $route(newVal, oldVal) {},\n  },\n  methods: {},\n  mounted() {},\n};\n</script>\n\n<style scoped>\n.copyright {\n  text-align: center;\n  position: absolute;\n  bottom: 20px;\n  font-size: 10px;\n}\n\n.el-main {\n  padding: 10px !important;\n}\n\n/* 右侧边栏样式 */\n.el-aside .el-menu {\n  border-right: solid 1px #fff;\n  font-weight: 500;\n  padding: 0 10px;\n}\n\n.el-aside .el-menu-item:focus,\n.el-aside .el-menu-item:hover {\n  outline: 0;\n  background-color: #eaeaea !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=43fd32d2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=43fd32d2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43fd32d2\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=43fd32d2&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","module.exports = __webpack_public_path__ + \"img/logo.6018490d.png\";","\nconst Mixin = {\n    data() {\n        return {\n            cs: {}\n        }\n    },\n    watch: {\n        $route(newVal, oldVal) {\n            this.setCs()\n        },\n    },\n    computed: {},\n    methods: {\n        setCs() {\n            this.$store.state.storages.forEach((ele) => {\n                if (ele.name == this.$route.params.sname) {\n                    this.cs = ele\n                }\n            });\n        },\n        getSid() {\n            return this.cs.id\n        },\n    },\n    mounted() {\n        this.setCs()\n    },\n}\n\nexport default Mixin","const DialogMixin = {\n    data() {\n        return {\n            visible: false\n        }\n    },\n    watch: {\n        visible(val) {\n            !val && this.$destroy()\n        }\n    },\n    mounted() {\n        document.body.appendChild(this.$el)\n        this.visible = true\n    },\n    destroyed() {\n        this.$el.parentNode.removeChild(this.$el)\n    },\n    methods: {\n        open() {\n            this.visible = true;\n        },\n        close() {\n            this.visible = false;\n        },\n        finish() {\n            this.visible = false;\n            this.$emit('completed');\n        },\n    }\n}\n\nexport default DialogMixin"],"sourceRoot":""}