(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3745c98b"],{"0b47":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-header",[o("div",{staticClass:"logo"},[o("img",{attrs:{src:n("cf05"),alt:"YunYou"},on:{click:function(t){return e.$router.push("/")}}})]),e.showMenu?o("el-menu",{staticClass:"navbar",staticStyle:{width:"100%"},attrs:{"default-active":e.menuActive,mode:"horizontal",router:""}},[e._l(e.menus.slice(0,5),(function(t,n){return o("el-menu-item",{key:n,attrs:{index:"/"+t.name}},[e._v(e._s(t.title))])})),o("el-submenu",{directives:[{name:"show",rawName:"v-show",value:e.menus.length>5,expression:"menus.length > 5"}],attrs:{index:"more"}},[o("template",{slot:"title"},[e._v("更多")]),e._l(e.menus.slice(5),(function(t,n){return o("el-menu-item",{key:n,attrs:{index:t.path}},[e._v(e._s(t.title))])}))],2)],2):e._e(),o("div",{staticStyle:{position:"absolute",right:"20px"}},[o("el-dropdown",{directives:[{name:"show",rawName:"v-show",value:e.logined,expression:"logined"}],attrs:{trigger:"click"},on:{command:e.onDropdown}},[o("el-avatar",{staticStyle:{"vertical-align":"middle"},attrs:{size:30,src:e.profile.avatar}}),o("el-dropdown-menu",{staticStyle:{width:"200px"},attrs:{slot:"dropdown"},slot:"dropdown"},[o("div",{staticStyle:{margin:"auto 20px"}},[o("el-row",{staticStyle:{"text-align":"center",margin:"10px 0"}},[o("el-avatar",{attrs:{size:50,src:e.profile.avatar}})],1),o("el-row",{staticClass:"storage"},[o("p",[o("span",{},[e._v(e._s(e.$t("leftnav.storage")))]),o("span",{staticStyle:{float:"right"}},[e._v(e._s(e.storage.percentage)+"%")])]),o("el-progress",{attrs:{percentage:e.storage.percentage,"show-text":!1}}),o("p",{staticStyle:{color:"rgba(0, 0, 0, 0.54)","font-size":"0.75rem"}},[e._v(e._s(e.storage.used)+"/"+e._s(e.storage.max))])],1)],1),o("el-dropdown-item",{attrs:{icon:"el-icon-setting",command:"profile",divided:""}},[e._v(e._s(e.$t("topbar.settings")))]),o("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:e.showAdmin,expression:"showAdmin"}],attrs:{icon:"el-icon-set-up",command:"admin"}},[e._v(e._s(e.$t("topbar.s-platform")))]),o("el-dropdown-item",{attrs:{icon:"el-icon-switch-button",command:"signout"}},[e._v(e._s(e.$t("topbar.signout")))])],1)],1)],1)],1)},r=[],i=n("9225"),a=n("90fe"),s=n("a78e"),c=n.n(s),u="https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",l={props:{menus:Array,logined:Boolean},data:function(){return{storage:{percentage:0},user:{},profile:{}}},watch:{$route:"onRouteChange",locale:function(e){Object(i["b"])(e)}},computed:{showMenu:function(){return this.menus&&this.menus.length>0},showAdmin:function(){return"admin"==c.a.get("z-role")},menuActive:function(){return"/".concat(this.$route.params.sname)}},methods:{onRouteChange:function(e,t){this.logined&&this.userInfo()},userInfo:function(){var e=this;this.$zpan.User.profileGet().then((function(t){e.user=t.data,e.profile=e.user.profile,""==e.profile.avatar&&(e.profile.avatar=u),e.profile.locale&&(e.$i18n.locale=e.profile.locale),e.storage={used:a["a"].formatBytes(e.user.storage.used,0),max:a["a"].formatBytes(e.user.storage.max,0),percentage:Math.round(e.user.storage.used/e.user.storage.max*1e4)/100}}))},onDropdown:function(e){this.$router.push({name:e})}},mounted:function(){this.logined&&this.userInfo()}},d=l,f=(n("a0b4"),n("2877")),p=Object(f["a"])(d,o,r,!1,null,null,null);t["a"]=p.exports},"61c2":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("Topbar",{attrs:{menus:e.$store.state.storages,logined:""}}),n("el-container",{staticStyle:{height:"100%"}},[n("el-aside",{staticStyle:{height:"100%","background-color":"#f4f4f5"},attrs:{width:"200px"}},[n("el-menu",{attrs:{"default-active":e.leftMenuActive,"background-color":"#f4f4f5",router:""}},e._l(e.leftMenus,(function(t){return n("el-menu-item",{key:t.path,attrs:{index:t.path}},[n("i",{class:t.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])])})),1)],1),n("el-main",[n("router-view")],1)],1)],1)},r=[],i=n("a026"),a=n("c0d6"),s=n("0b47"),c={components:{Topbar:s["a"]},beforeRouteEnter:function(e,t,n){i["default"].zpan.Storage.list().then((function(e){var t=e.data.list;a["a"].commit("storages",t),n()}))},data:function(){return{}},computed:{leftMenuActive:function(){return this.$route.fullPath},leftMenus:function(){return[{path:"/settings/profile",icon:"el-icon-share",title:"个人设置"},{path:"/settings/security",icon:"el-icon-delete",title:"密码修改"}]}},watch:{},methods:{},mounted:function(){}},u=c,l=(n("9d1a"),n("2877")),d=Object(l["a"])(u,o,r,!1,null,"cdd60f04",null);t["default"]=d.exports},9884:function(e,t,n){},"9d1a":function(e,t,n){"use strict";n("fcd4")},a0b4:function(e,t,n){"use strict";n("9884")},a78e:function(e,t,n){var o,r;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(i){var a;if(o=i,r="function"===typeof o?o.call(t,n,t,e):o,void 0===r||(e.exports=r),a=!0,e.exports=i(),a=!0,!a){var s=window.Cookies,c=window.Cookies=i();c.noConflict=function(){return window.Cookies=s,c}}})((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(o){function r(){}function i(t,n,i){if("undefined"!==typeof document){i=e({path:"/"},r.defaults,i),"number"===typeof i.expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(u){}n=o.write?o.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!==typeof document){for(var r={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(o.read||o)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(l){}if(r[u]=c,e===u)break}catch(l){}}return e?r[e]:r}}return r.set=i,r.get=function(e){return a(e,!1)},r.getJSON=function(e){return a(e,!0)},r.remove=function(t,n){i(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}return n((function(){}))}))},cf05:function(e,t,n){e.exports=n.p+"img/logo.6018490d.png"},fcd4:function(e,t,n){}}]);
//# sourceMappingURL=chunk-3745c98b.5b275035.js.map